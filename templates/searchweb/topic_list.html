{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>主題列表</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="{% static 'css/topic_list.css' %}" rel="stylesheet">
    </head>
    
<body class="container py-5">

    <div class="bg-light p-4 rounded mb-4 text-center">
        <div class="intro-wrapper mx-auto mb-4">
            <div class="intro-box p-3 py-3 rounded text-center">
                <!-- 主標題 -->
                <h1 class="intro-title fw-bold">區塊鏈關鍵字查詢系統</h1>
                <!-- 副標題 -->
                <h5 class="intro-subtitle">請選擇感興趣的主題</h5>
            </div>
           
        </div>
    </div>
    <div class="text-center mb-4">
      <a href="{% url 'faiss_search' %}" class="btn btn-outline-success btn-lg px-4 rounded-pill me-2">
        語意查詢（FAISS）
      </a>

  <!-- 新增：查看文件（下拉選擇） -->
  {% if pages %}
  <div class="d-inline-block align-middle" style="max-width: 480px;">
    <div class="input-group">
      <select id="pageSelect" class="form-select">
        {% for p in pages %}
          <option value="{% url 'page_detail' p.pk %}">{{ p.title }}</option>
        {% endfor %}
      </select>
      <button type="button" id="goPageBtn" class="btn btn-primary">
        前往
      </button>
    </div>
  </div>
  {% endif %}
</div>

<script>
  (function () {
    var btn = document.getElementById('goPageBtn');
    var sel = document.getElementById('pageSelect');
    if (btn && sel) {
      btn.addEventListener('click', function () {
        var url = sel.value;
        if (url) window.location.href = url;
      });
    }
  })();
</script>


    <!-- 主題卡片列 -->
    <div class="card-wrapper">
        <div class="row row-cols-1 row-cols-md-2 g-3 card-group-custom">
            {% for group in groups %}
            <div class="col">
                <div class="card h-100 shadow-sm border-primary">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{ group.name }}</h5>
                        <p class="card-text">{{ group.description|linebreaksbr|default:"尚無描述" }}</p>
                        <div class="mt-auto">
                            <a href="{% url 'keyword_list' group.id %}" class="btn btn-primary w-100">查看關鍵字</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
  

</body>
</html>
